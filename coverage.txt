bun test v1.3.5 (1e86cebd)

packages/core/src/indexer.test.ts:
(pass) indexer > buildSearchIndex > should index entry by ID [3.26ms]
(pass) indexer > buildSearchIndex > should tokenize and index by name [0.23ms]
(pass) indexer > buildSearchIndex > should tokenize and index by problem [0.07ms]
(pass) indexer > buildSearchIndex > should index by tags [0.09ms]
(pass) indexer > buildSearchIndex > should index by files
(pass) indexer > buildSearchIndex > should index by tech stack
(pass) indexer > buildSearchIndex > should handle empty values [0.41ms]
(pass) indexer > buildGraphIndex > should compute ancestors correctly [0.21ms]
(pass) indexer > buildGraphIndex > should compute descendants correctly [0.23ms]
(pass) indexer > indexedSearch > should find entries by tokens across fields [1.12ms]
(pass) indexer > indexedSearch > should handle multi-word query [0.71ms]
(pass) indexer > indexedSearch > should return empty for no match [0.39ms]
(pass) indexer > indexedFilterByTags > should filter by single tag [0.12ms]
(pass) indexer > indexedFilterByTags > should filter by multiple tags
(pass) indexer > indexedGetCausalChain > should return full causal chain [0.20ms]
(pass) indexer > indexedGetCausalChain > should handle entry with no causes or effects [0.01ms]
(pass) indexer > indexedGetCausalChain > should return empty if entryId not found in entries list [0.08ms]
(pass) indexer > updateIndex > should rebuild index with new entries [0.04ms]
(pass) indexer > getIndexStatistics > should return correct statistics [0.31ms]

packages/core/src/graph-utils.test.ts:
(pass) Graph Utils > ID Parsing and Formatting > should parse comma-separated IDs [0.08ms]
(pass) Graph Utils > ID Parsing and Formatting > should format IDs to comma-separated string [0.08ms]
(pass) Graph Utils > Graph Building > should build correct adjacency list [0.04ms]
(pass) Graph Utils > Ancestors and Descendants > should get correct ancestors [0.29ms]
(pass) Graph Utils > Ancestors and Descendants > should get correct descendants [0.08ms]
(pass) Graph Utils > Ancestors and Descendants > should return empty for isolated node [0.04ms]
(pass) Graph Utils > Causal Chain > should get complete causal chain [0.18ms]
(pass) Graph Utils > Shortest Path > should find shortest path between nodes [0.12ms]
(pass) Graph Utils > Shortest Path > should return empty for no path
(pass) Graph Utils > Cycle Detection > should detect no cycles in DAG [0.11ms]
(pass) Graph Utils > Cycle Detection > should detect cycles
(pass) Graph Utils > Cycle Detection > should detect self-loops
(pass) Graph Utils > Strongly Connected Components > should find no cycles in DAG [0.13ms]
(pass) Graph Utils > Strongly Connected Components > should find cycles [0.11ms]
(pass) Graph Utils > Reasoning Search > should find relevant logs with causal context [0.17ms]
(pass) Graph Utils > Reasoning Search > should limit depth correctly [0.45ms]
(pass) Graph Utils > Graph Statistics > should calculate correct statistics [0.60ms]
(pass) Complex Graph Scenarios > should handle multiple causes and effects [0.10ms]
(pass) Complex Graph Scenarios > should handle disconnected components [0.08ms]

packages/core/src/visualizer.test.ts:
(pass) visualizer > highlightText > should handle markdown code blocks [17.36ms]
(pass) visualizer > highlightText > should handle custom code blocks [1.27ms]
(pass) visualizer > highlightText > should handle heuristic code detection [0.72ms]
(pass) visualizer > highlightText > should handle inline code blocks [81.53ms]
(pass) visualizer > highlightText > should handle short inline code blocks by not highlighting them [0.09ms]
(pass) visualizer > highlightText > should not highlight if colors/highlight disabled [0.13ms]
(pass) visualizer > visualizeTable > should show empty message when no entries
(pass) visualizer > visualizeTable > should render multiple entries [0.79ms]
(pass) visualizer > visualizeTable > should respect compact mode [0.16ms]
(pass) visualizer > visualizeTable > should respect llm mode (CSV output) [0.09ms]
(pass) visualizer > visualizeTable > should handle long text truncation
(pass) visualizer > visualizeEntry > should show all fields in detailed view [0.40ms]
(pass) visualizer > visualizeEntry > should omit missing fields [0.12ms]
(pass) visualizer > visualizeEntry > should handle llm mode for single entry (CSV output)
(pass) visualizer > visualizeStats > should show correct statistics [0.35ms]
(pass) visualizer > visualizeStats > should handle empty list for stats [0.02ms]
(pass) visualizer > helper branch coverage > should handle invalid dates in formatDate

packages/core/src/csv-utils.test.ts:
(pass) csv-utils > logEntryToCSVRow > should correctly escape commas and quotes [0.05ms]
(pass) csv-utils > logEntryToCSVRow > should handle newline in values [0.01ms]
(pass) csv-utils > logEntryToCSVRow > should handle all fields [0.03ms]
(pass) csv-utils > csvRowToLogEntry > should parse a simple row string [0.12ms]
(pass) csv-utils > csvRowToLogEntry > should parse quoted fields with commas [0.03ms]
(pass) csv-utils > csvRowToLogEntry > should parse escaped quotes [0.02ms]
(pass) csv-utils > csvRowToLogEntry > should parse multiple escaped quotes and maintain them correctly
(pass) csv-utils > csvRowToLogEntry > should return null for empty or invalid rows [0.28ms]
(pass) csv-utils > csvRowToLogEntry > should trim values during parsing [0.04ms]
(pass) csv-utils > logEntriesToCSV > should create CSV with headers and multiple rows [0.06ms]
(pass) csv-utils > logEntriesToCSV > should handle empty array
(pass) csv-utils > csvToLogEntries > should parse a simple CSV string [0.20ms]
(pass) csv-utils > csvToLogEntries > should handle CRLF line endings [0.03ms]
(pass) csv-utils > csvToLogEntries > should handle dynamic header mapping (reordered columns)
(pass) csv-utils > csvToLogEntries > should handle quoted fields with interior newlines [0.11ms]
(pass) csv-utils > csvToLogEntries > should filter out entries missing required fields
(pass) csv-utils > csvToLogEntries > should handle empty or whitespace CSV
(pass) csv-utils > csvToLogEntries > should throw error if required headers are missing [0.48ms]
(pass) csv-utils > csvToLogEntries > should throw error if name is missing in header [0.05ms]
(pass) csv-utils > csvToLogEntries > should NOT skip rows missing id or created-at [0.62ms]
(pass) csv-utils > csvToLogEntries > should throw error if problem is missing in header [0.04ms]
(pass) csv-utils > csvToLogEntries > should handle weird unclosed quotes cases in last row (coverage for line 202-208 and 49) [0.03ms]
(pass) csv-utils > csvToLogEntries > should handle \r as line separator [0.03ms]
(pass) csv-utils > csvToLogEntries > should handle rows with fewer fields than headers
(pass) csv-utils > csvToLogEntries > should handle rows with more fields than headers
(pass) csv-utils > csvToLogEntries > should NOT skip last row if missing id/created-at but has name/problem
(pass) csv-utils > csvToLogEntries > should handle CSV with only a newline
(pass) csv-utils > round-trip conversion > should maintain data integrity through logEntriesToCSV -> csvToLogEntries [0.19ms]

packages/core/src/logger.test.ts:
(pass) updateLogEntry > should update entry at valid index with partial updates [0.08ms]
(pass) updateLogEntry > should add updated-at timestamp when updating [0.01ms]
(pass) updateLogEntry > should preserve required fields when not provided in updates [0.05ms]
(pass) updateLogEntry > should override existing updated-at timestamp
(pass) updateLogEntry > should update optional fields [0.05ms]
(pass) updateLogEntry > should handle empty updates object [0.01ms]
(pass) updateLogEntry > should throw error for negative index [0.04ms]
(pass) updateLogEntry > should throw error for index equal to array length [0.01ms]
(pass) updateLogEntry > should throw error for index greater than array length [0.02ms]
(pass) updateLogEntry > should work with single entry array [0.02ms]
(pass) updateLogEntry > should not mutate original array [0.02ms]
(pass) updateLogEntry > should return new array with updated entry [0.01ms]
(pass) updateLogEntry > should handle updating created-at field [0.02ms]
(pass) updateLogEntry > should handle updates with undefined values [0.09ms]
(pass) createLogEntry > should ALWAYS auto-generate timestamp even if provided [0.05ms]
(pass) createLogEntry > should create log entry with auto-generated timestamp [0.12ms]
(pass) createLogEntry > should create log entry with optional fields [0.04ms]
(pass) addLogEntry > should add new entry to existing array [0.02ms]
(pass) addLogEntry > should add entry to empty array [0.03ms]
(pass) addLogEntry > should not mutate original array [0.01ms]
(pass) addLogEntry > should return new array instance
(pass) filterByTags > should filter entries by single tag [0.07ms]
(pass) filterByTags > should filter entries by multiple tags (OR logic) [0.02ms]
(pass) filterByTags > should return empty array for non-existent tag [0.02ms]
(pass) filterByTags > should exclude entries without tags [0.01ms]
(pass) filterByTags > should handle empty tags array
(pass) filterByTags > should handle entries with empty tags string [0.06ms]
(pass) filterByTags > should handle tags with extra spaces [0.01ms]
(pass) searchLogs > should search by name (case insensitive) [0.05ms]
(pass) searchLogs > should search by problem (case insensitive) [0.01ms]
(pass) searchLogs > should search by solution (case insensitive)
(pass) searchLogs > should return multiple matches for partial search [0.01ms]
(pass) searchLogs > should return empty array for no matches [0.01ms]
(pass) searchLogs > should handle empty query string
(pass) searchLogs > should handle entries without solution [0.01ms]
(pass) searchLogs > should be case insensitive [0.02ms]
(pass) searchLogs > should search by files (case insensitive) [0.01ms]
(pass) loadLogs > should return empty array for non-existent file [0.94ms]
(pass) loadLogs > should handle file read errors gracefully [0.04ms]
(pass) saveLogs > should save logs to file successfully [1.08ms]
Error saving logs: ENOENT: no such file or directory, open '/invalid/path/that/does/not/exist/file.csv'
    path: "/invalid/path/that/does/not/exist/file.csv",
 syscall: "open",
   errno: -2,
    code: "ENOENT"


(pass) saveLogs > should throw error on save failure [4.17ms]

packages/cli/src/index.test.ts:
(pass) CLI > should show help message with 'help' command [0.92ms]
(pass) CLI > should show help message with '--help' flag
(pass) CLI > should show version with '--version' flag [0.27ms]
(pass) CLI > should show version with '-v' flag
(pass) CLI > should show version with '-V' flag
(pass) CLI > should call loadLogs and visualizeTable for 'list' command
(pass) CLI > should work with 'ls' alias
(pass) CLI > should call visualizeStats for 'stats' command [0.24ms]
(pass) CLI > should add a new log entry with 'add' command
(pass) CLI > should show error and exit if 'add' is missing problem [0.46ms]
(pass) CLI > should show error and exit if 'add' is missing name [0.07ms]
(pass) CLI > should search logs with 'search' command [0.13ms]
(pass) CLI > should show error and exit if 'search' is missing query [0.06ms]
(pass) CLI > should filter logs by tags with 'tags' command
(pass) CLI > should show error and exit if 'tags' is missing tags
(pass) CLI > should view entry at index [0.17ms]
(pass) CLI > should view last entry with --last flag
(pass) CLI > should show error and exit if 'view' has no logs [0.17ms]
(pass) CLI > should show error and exit if 'view' index is NaN
(pass) CLI > should show error and exit if 'view' index is out of range [0.09ms]
(pass) CLI > should show error and exit if entry is missing at index [0.09ms]
(pass) CLI > should show error for unknown command
(pass) CLI > should show help when no command is provided
(pass) CLI > should use custom log file if provided [0.16ms]
----------------------------------|---------|---------|-------------------
File                              | % Funcs | % Lines | Uncovered Line #s
----------------------------------|---------|---------|-------------------
All files                         |   96.90 |   97.16 |
 packages/cli/src/index.ts        |   85.71 |   97.73 | 223-224
 packages/core/src/csv-utils.ts   |  100.00 |   97.06 | 113,116,212,215
 packages/core/src/graph-utils.ts |   96.77 |   96.99 | 255,320-326
 packages/core/src/index.ts       |  100.00 |  100.00 | 
 packages/core/src/indexer.ts     |  100.00 |  100.00 | 
 packages/core/src/logger.ts      |  100.00 |   91.89 | 19,21-24
 packages/core/src/visualizer.ts  |   95.83 |   96.42 | 55-56,78-79,101-102,127-128,141-142,290-291
----------------------------------|---------|---------|-------------------

 148 pass
 0 fail
 361 expect() calls
Ran 148 tests across 6 files. [330.00ms]
